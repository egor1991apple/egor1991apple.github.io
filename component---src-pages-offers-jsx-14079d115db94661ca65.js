(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2MfL":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var l=a("q1tI"),n=a.n(l),r=a("X13+"),c=a("NIcq");function s(e){var t=e.points,a=void 0===t?[]:t;return n.a.createElement("ul",{className:"list-points"},a.map((function(e,t){var l=e.city,s=e.durationTime,i=e.address;return n.a.createElement("li",{className:"list-points--item",key:t+"_"+l},0===t?n.a.createElement("div",{className:"points-icon"},n.a.createElement(c.j,null)):"",t===a.length-1?n.a.createElement("div",{className:"points-icon"},n.a.createElement(r.d,null)):"",t!==a.length-1&&0!==t&&n.a.createElement("div",{className:"points-icon"},n.a.createElement(r.c,null)),l," ",n.a.createElement("br",null),n.a.createElement("small",null,i),0!=s?n.a.createElement("span",{className:"durtionTime text-muted"},n.a.createElement(r.b,null)," ",s):"")})))}},"6xyR":function(e,t,a){"use strict";var l=a("wx14"),n=a("zLVn"),r=a("TSYQ"),c=a.n(r),s=a("q1tI"),i=a.n(s),m=a("vUet"),o=a("YdCC"),u=a("U1MP"),d=a("Wzyw"),E=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,s=e.variant,o=e.as,u=void 0===o?"img":o,d=Object(n.a)(e,["bsPrefix","className","variant","as"]),E=Object(m.b)(a,"card-img");return i.a.createElement(u,Object(l.a)({ref:t,className:c()(s?E+"-"+s:E,r)},d))}));E.displayName="CardImg",E.defaultProps={variant:null};var b=E,p=Object(u.a)("h5"),f=Object(u.a)("h6"),v=Object(o.a)("card-body"),N=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,o=e.bg,u=e.text,E=e.border,b=e.body,p=e.children,f=e.as,N=void 0===f?"div":f,h=Object(n.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),g=Object(m.b)(a,"card"),x=Object(s.useMemo)((function(){return{cardHeaderBsPrefix:g+"-header"}}),[g]);return i.a.createElement(d.a.Provider,{value:x},i.a.createElement(N,Object(l.a)({ref:t},h,{className:c()(r,g,o&&"bg-"+o,u&&"text-"+u,E&&"border-"+E)}),b?i.a.createElement(v,null,p):p))}));N.displayName="Card",N.defaultProps={body:!1},N.Img=b,N.Title=Object(o.a)("card-title",{Component:p}),N.Subtitle=Object(o.a)("card-subtitle",{Component:f}),N.Body=v,N.Link=Object(o.a)("card-link",{Component:"a"}),N.Text=Object(o.a)("card-text",{Component:"p"}),N.Header=Object(o.a)("card-header"),N.Footer=Object(o.a)("card-footer"),N.ImgOverlay=Object(o.a)("card-img-overlay");t.a=N},FNhl:function(e){e.exports=JSON.parse('{"ru":{"title":"Автобусные билеты","departure":{"label":"Откуда","placeholder":"Откуда","required":"true","text":"loream ipsulm"},"arrival":{"label":"Куда","placeholder":"Куда","required":"true","text":"loream ipsulm"},"date_departure":{"label":"Дата отправления","placeholder":"Туда","required":"true","text":"loream ipsulm"},"date_arrival":{"label":"Дата отправления","placeholder":"Обратно","required":"true","text":"loream ipsulm"},"seats":{"label":"Мест","placeholder":"Пассажиров","required":"true","text":"loream ipsulm"},"adults":{"title":"Взрослых","subtitle":"12 и старше"},"children":{"title":"Взрослых","subtitle":"до 12 лет"},"benefic":{"title":"Льготный","subtitle":"старше 62 и инвалиды."},"submit":"Искать"}}')},Jyo9:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var l=a("q1tI"),n=a.n(l),r=a("L12J"),c=a("7vrA"),s=a("3Z9Z"),i=a("JI6e"),m=a("uuXO");function o(){return n.a.createElement(i.a,{lg:"12",className:"pt-3 zIndex"},n.a.createElement(m.a,{type:"hor"}))}a("dRSK"),a("91GP"),a("rGqo"),a("yt8O"),a("Btvt"),a("RW0V"),a("tUrg");var u=a("6xyR"),d=a("cWnB");function E(e){var t=e.city,a=void 0===t?"":t,l=e.address,r=void 0===l?"":l,c=e.time,s=void 0===c?"":c,i=e.date,m=void 0===i?"":i;return n.a.createElement("div",{className:"d-flex flex-column line-height-14"},n.a.createElement("span",{className:"text-5"},s," ",n.a.createElement("sup",{className:" px-1 rounded bg-primary text-white "}," ",m," ")),n.a.createElement("span",{className:"text-4 mt-1 text-primary"},a),n.a.createElement("small",null,r.length>75?n.a.createElement("span",null,r.slice(0,75),"..."):r))}var b=a("X13+");function p(e){var t=e.duration,a=e.route,r=void 0===a?[]:a;return n.a.createElement(l.Fragment,null,n.a.createElement(i.a,null,n.a.createElement(E,r[0])),n.a.createElement(i.a,{sm:"auto",className:"p-0 "},n.a.createElement("small",{className:"text-muted "},t," ",n.a.createElement(b.a,{size:"24"}))),n.a.createElement(i.a,null,n.a.createElement(E,r[r.length-1])))}var f=a("NIcq"),v=a("vYJ8");function N(e){var t=e.title,a=e.children,r=Object(l.useState)(!1),c=r[0],s=r[1],i=Object(l.useRef)(null);return Object(l.useEffect)((function(){if(c){setTimeout((function(){var e=i.current.getBoundingClientRect().top+window.pageYOffset-50;"undefined"!=typeof window&&window.scrollTo({top:e,behavior:"smooth"})}),300)}}),[c]),n.a.createElement(l.Fragment,null,n.a.createElement("a",{className:"d-flex justify-content-end nav-link cursor py-1 px-1 align-items-center",onClick:function(e){e.preventDefault(),s(!c)}},n.a.createElement("span",null,t),n.a.createElement(f.d,{size:"21",style:{transition:"transform .3s",transform:"rotate("+(c?"180deg":"0deg")+")"}})),n.a.createElement(v.a,{in:c},n.a.createElement("div",{id:"children"},n.a.createElement("div",{className:"d-flex flex-column border-top-dashed"},n.a.createElement("div",{ref:i,className:"container-fluid"},a)))))}var h=a("2MfL");function g(){return n.a.createElement("div",null,n.a.createElement(d.a,{className:"btn-clear rounded overflow-hidden",style:{height:"auto"}},n.a.createElement("img",{src:"map.png",alt:"map",className:"img-fluid"})))}var x=a("j0dn"),y=a("U5uR");function O(e){var t=e.selected,a=void 0===t?[]:t,r=e.disabled,c=void 0===r?[]:r,s=e.booking,i=void 0===s?[]:s,m=e.callback,o=void 0===m?null:m,u=Object(l.useContext)(y.a).BUS,d=void 0===u?[]:u;return n.a.createElement("table",{className:"bus"},n.a.createElement("tbody",null,d.map((function(e,t){return n.a.createElement("tr",{key:t},e.map((function(e,t){var l;return 0==e?n.a.createElement("td",((l={key:"bus-td--empty"}).key=t+"_td",l)):n.a.createElement("td",{key:t+"_td",onClick:function(){return!a.find((function(t){return t==e}))&&!c.find((function(t){return t==e}))&&o&&o(e)},className:"bus-td \n\t\t\t\t\t\t\t\t\t "+(i.find((function(t){return t==e}))?"bus-td--active":"")+"\n\t\t\t\t\t\t\t\t\t"+(c&&c.find((function(t){return t==e}))?"bus-td--disabled":"")+" \n\t\t\t\t\t\t\t\t\t"+(a&&a.find((function(t){return t==e}))?"bus-td--selected":"")},e)})))}))))}function j(e){var t=e.route,a=void 0===t?[]:t,l=e.placements;return n.a.createElement("div",{className:"border-top-dashed"},n.a.createElement(N,{title:"Детальная информация"},n.a.createElement("div",{className:"py-3"},n.a.createElement(s.a,null,n.a.createElement(i.a,{lg:"4",className:"border-right"},n.a.createElement("h4",null,"Услуги"),n.a.createElement("div",{className:"d-flex flex-wrap"},n.a.createElement(x.a,null))),n.a.createElement(i.a,{lg:"8"},n.a.createElement("h4",null,"Места"),n.a.createElement("div",{className:"d-flex "},n.a.createElement(O,Object.assign({},l,{booking:[]})),n.a.createElement("h6",null),n.a.createElement("table",{className:"bus-info px-3"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"bus-td"}),n.a.createElement("td",null,"Свободные")),n.a.createElement("tr",null,n.a.createElement("td",{className:"bus-td bus-td--selected"}),n.a.createElement("td",null,"Забронированные")),n.a.createElement("tr",null,n.a.createElement("td",{className:"bus-td bus-td--disabled"}),n.a.createElement("td",null,"Не доступные"))))))),n.a.createElement("hr",null),n.a.createElement(s.a,null,n.a.createElement(i.a,{xs:"12"},n.a.createElement("h4",null,"Маршрут")),n.a.createElement(i.a,null,n.a.createElement(h.a,{points:a})),n.a.createElement(i.a,null,n.a.createElement(g,{styleHeight:"auto"}))))))}function k(e){var t=e.id,a=e.cost,l=e.currency,r=(e.link,e.callback),c=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["id","cost","currency","link","callback"]);return n.a.createElement(u.a,{className:"bg-light-1"},n.a.createElement(u.a.Body,{className:"p-0 "},n.a.createElement(s.a,{noGutters:!0},n.a.createElement(i.a,{className:"flex-grow-1 d-flex flex-column"},n.a.createElement(s.a,{className:"py-3 mt-auto mx-0"},n.a.createElement(i.a,{lg:"auto",className:"my-auto"},n.a.createElement("h5",null,"#",t)),n.a.createElement(p,c)),n.a.createElement(j,Object.assign({},c,{id:t}))),n.a.createElement(i.a,{sm:"2",className:"border-left-dashed    px-3 py-1 d-flex  flex-column   line-height-14 ticket-styled"}," ",n.a.createElement("div",{className:"sticky-top pb-1",style:{top:"1rem"}},n.a.createElement("div",{className:"border-bottom pb-1"},n.a.createElement("small",null,"Мест:"),n.a.createElement("div",null,"6 свободных")),n.a.createElement("div",{className:" py-1"},n.a.createElement("small",null,"Цена:"),n.a.createElement("div",{className:"text-5 text-danger"},a," ",l)),n.a.createElement(d.a,{variant:"primary",size:"sm",className:"btn-block btn-sm",onClick:function(){return r(t)}},"Выбрать"))))))}function C(){var e=Object(l.useContext)(y.a),t=e.OFFERS,a=void 0===t?[]:t,r=e.onOpenPlacementDialog,c=void 0===r?null:r,s=e.BASKET_COMMIT,m=void 0===s?[]:s;return n.a.createElement(l.Fragment,null,n.a.createElement(i.a,{lg:"9",className:"border-right border-top py-3 zIndex"},n.a.createElement("div",{className:m[0]?"d-none":""},n.a.createElement("h3",{className:"mb-3"},"Билеты туда"),a.map((function(e,t){return 0==e.direction&&n.a.createElement("div",{key:t+"_cardOffer",className:"mb-3"},n.a.createElement(k,Object.assign({},e,{callback:c})))}))),a.find((function(e){return 1==e.direction}))&&n.a.createElement("h3",{className:"mt-5 mb-3"},"Билеты Обратно"),a.map((function(e,t){return 1==e.direction&&n.a.createElement("div",{key:t+"_cardOffer",className:"mb-3"},n.a.createElement(k,Object.assign({},e,{callback:c})))}))))}var I=a("zM5D"),w=(a("txIU"),function(e){var t=e.children,a=e.callback,r=e.disabled,c=void 0===r||r,s=Object(l.useContext)(y.a),i=s.SHOW_PLACEMENT_DIALOG,m=s.onOpenPlacementDialog,o=void 0===m?null:m;s.lang;return n.a.createElement(I.a,{size:"lg",id:"PlacementDialog",show:i,onHide:o},n.a.createElement(I.a.Header,null,n.a.createElement("div",{className:"text-4"},"Выбирите места посадки в транспорте"),n.a.createElement(d.a,{Button:!0,onClick:function(){return o()},className:"btn-clear btn-close-dialog"},n.a.createElement(f.a,{size:"21px"}))),n.a.createElement(I.a.Body,null,t),n.a.createElement(I.a.Footer,null,n.a.createElement(d.a,{onClick:a,size:"sm",disabled:c},"В корзину")))}),S=a("MBJH");function _(){var e=Object(l.useContext)(y.a),t=e.SELECTED_OFFERS_ID,a=void 0===t?null:t,r=e.OFFERS,c=void 0===r?[]:r,m=e.BASKET,o=void 0===m?[]:m,u=(e.BASKET_COMMIT,e.onBasketCommit),d=e.onSelectPlacement,E={selected:[],disabled:[],booking:[]},b=function(e,t,a){try{var l=e[a[t-1].direction].filter((function(e){var a=e.offers_id;return t==a}));return l.length?l.map((function(e){return e.place})):[]}catch(n){return[]}}(o,a,c);try{E=Object.assign({},c[a-1].placements,{booking:b})||[]}catch(p){}return c.length&&a&&n.a.createElement(w,{callback:u(c[a-1].direction),disabled:!b.length&&!0},n.a.createElement(s.a,null,n.a.createElement(i.a,{lg:"5"},n.a.createElement("h6",null,"Места посадки"),n.a.createElement(S.a,{striped:!0,className:"border"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"border-right"},"Автобус"),n.a.createElement("th",{className:"border-right"},"Пассажир"),n.a.createElement("th",null,"Место"))),n.a.createElement("tbody",null,o[c[a-1].direction].map((function(e,t){var a=e.offers_id,l=e.place;return n.a.createElement("tr",{key:t+"place"},n.a.createElement("td",{className:"border-right"}," #",a),n.a.createElement("td",{className:"border-right"},"Пассажир №",t+1),n.a.createElement("td",{className:""},l," место"))}))))),n.a.createElement(i.a,{lg:"7"},n.a.createElement("h6",null,"Рассадка в автобусе"),n.a.createElement(O,Object.assign({},E,{callback:d(c[a-1].direction)})),n.a.createElement("table",{className:"bus-info mt-2"},n.a.createElement("tbody",{className:"d-flex "},n.a.createElement("tr",null,n.a.createElement("td",{className:"bus-td"}),n.a.createElement("td",null,"Свободные")),n.a.createElement("tr",null,n.a.createElement("td",{className:"bus-td bus-td--selected"}),n.a.createElement("td",null,"Забронированные")),n.a.createElement("tr",null,n.a.createElement("td",{className:"bus-td bus-td--disabled"}),n.a.createElement("td",null,"Не доступные")))))))}a("hhXQ"),a("v3W/");function F(){var e=Object(l.useContext)(y.a).BASKET,t=void 0===e?{0:[],1:[]}:e;return Object.values(t)[0].length||Object.values(t)[1].length?n.a.createElement(i.a,{lg:"3",className:"border-top"},Object.values(t)[0].length?Object.values(t)[0].map((function(e,t){return n.a.createElement(l.Fragment,{key:t+"basket"},JSON.stringify(e))})):null,Object.values(t)[1].length?Object.values(t)[1].map((function(e,t){var a=e.status,r=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["status"]);return n.a.createElement(l.Fragment,{key:t+"basket"},1==a?n.a.createElement("div",null,JSON.stringify(r)):null)})):null):null}function z(){return n.a.createElement(r.a,{pageInfo:{pageName:"routes"}},n.a.createElement(c.a,{className:"my-5 "},n.a.createElement(s.a,{className:"bg-white border-radius border rounded mx-0"},n.a.createElement(o,null),n.a.createElement(C,null),n.a.createElement(F,null))),n.a.createElement(_,null))}},MBJH:function(e,t,a){"use strict";var l=a("wx14"),n=a("zLVn"),r=a("TSYQ"),c=a.n(r),s=a("q1tI"),i=a.n(s),m=a("vUet"),o=i.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,s=e.striped,o=e.bordered,u=e.borderless,d=e.hover,E=e.size,b=e.variant,p=e.responsive,f=Object(n.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),v=Object(m.b)(a,"table"),N=c()(r,v,b&&v+"-"+b,E&&v+"-"+E,s&&v+"-striped",o&&v+"-bordered",u&&v+"-borderless",d&&v+"-hover"),h=i.a.createElement("table",Object(l.a)({},f,{className:N,ref:t}));if(p){var g=v+"-responsive";return"string"==typeof p&&(g=g+"-"+p),i.a.createElement("div",{className:g},h)}return h}));t.a=o},UExd:function(e,t,a){var l=a("nh4g"),n=a("DVgA"),r=a("aCFj"),c=a("UqcF").f;e.exports=function(e){return function(t){for(var a,s=r(t),i=n(s),m=i.length,o=0,u=[];m>o;)a=i[o++],l&&!c.call(s,a)||u.push(e?[a,s[a]]:s[a]);return u}}},hhXQ:function(e,t,a){var l=a("XKFU"),n=a("UExd")(!1);l(l.S,"Object",{values:function(e){return n(e)}})},j0dn:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a("dRSK");var l=a("q1tI"),n=a.n(l),r=a("U5uR"),c=a("ma3e"),s=a("tjd4"),i=a("IdFE");function m(e){var t=e.includeServises,a=void 0===t?[]:t,m=Object(l.useContext)(r.a).ROUTE_SERVISES,o=void 0===m?[]:m;Object(l.useMemo)((function(){return o.filter((function(e){var t=e.id;return a.find((function(e){return e==t}))}))}),[a]);return n.a.createElement(l.Fragment,null,o.map((function(e,t){var a=e.id,l=e.title;e.icon,e.text;return n.a.createElement("div",{key:l,className:" text-center border p-2  mr-2 rounded d-flex flex-column align-items-center mt-2"},1==a&&n.a.createElement(c.k,{size:"18"}),2==a&&n.a.createElement(c.b,{size:"18"}),3==a&&n.a.createElement(c.a,{size:"18"}),4==a&&n.a.createElement(c.i,{size:"18"}),5==a&&n.a.createElement(s.a,{size:"18"}),6==a&&n.a.createElement(i.a,{size:"18"}),7==a&&n.a.createElement(c.e,{size:"18"}),n.a.createElement("small",{className:"d-inline-block text-truncate text-uppercase",style:{width:"45px"}},l))})))}},uuXO:function(e,t,a){"use strict";var l=a("q1tI"),n=a.n(l),r=a("QojX"),c=a("JI6e"),s=a("cWnB"),i=a("FNhl"),m=a("NIcq");function o(e,t){var a=e.language,o=void 0===a?"ru":a,u=e.type;return"hor"!=(void 0===u?null:u)?n.a.createElement(l.Fragment,null,n.a.createElement(r.a,{id:"bookingBus",className:"d-block"},n.a.createElement(r.a.Row,null,n.a.createElement(r.a.Group,{as:c.a,controlId:"departure",className:"position-relative"},n.a.createElement(r.a.Control,{type:"text",placeholder:i.ru.departure.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.j,null))),n.a.createElement(r.a.Group,{as:c.a,controlId:"arrival",className:"position-relative"},n.a.createElement(r.a.Control,{type:"text",placeholder:i.ru.arrival.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.j,null)))),n.a.createElement(r.a.Row,null,n.a.createElement(r.a.Group,{as:c.a,controlId:"date_departure",className:"position-relative"},n.a.createElement(r.a.Control,{type:"text",placeholder:i.ru.date_departure.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.b,null))),n.a.createElement(r.a.Group,{as:c.a,controlId:"date_arrival",className:"position-relative"},n.a.createElement(r.a.Control,{disabled:!0,type:"text",placeholder:i.ru.date_arrival.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.b,null)))),n.a.createElement(r.a.Group,{controlId:"seats",className:"position-relative"},n.a.createElement(r.a.Control,{type:"text",placeholder:i[o].seats.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.h,null))),n.a.createElement(s.a,{variant:"primary",type:"submit",className:"btn-block"},i[o].submit))):n.a.createElement(l.Fragment,null,n.a.createElement(r.a,{id:"bookingBus",className:"d-block",ref:t},n.a.createElement(r.a.Row,null,n.a.createElement(r.a.Group,{controlId:"departure",className:"position-relative col-sm-6 col-lg"},n.a.createElement(r.a.Control,{type:"text",placeholder:i.ru.departure.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.j,null))),n.a.createElement(r.a.Group,{controlId:"arrival",className:"position-relative col-sm-6 col-lg"},n.a.createElement(r.a.Control,{type:"text",placeholder:i.ru.arrival.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.j,null))),n.a.createElement(r.a.Group,{controlId:"date_departure",className:"position-relative col-sm-6 col-lg"},n.a.createElement(r.a.Control,{type:"text",placeholder:i.ru.date_departure.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.b,null))),n.a.createElement(r.a.Group,{controlId:"date_arrival",className:"position-relative col-sm-6 col-lg"},n.a.createElement(r.a.Control,{disabled:!0,type:"text",placeholder:i.ru.date_arrival.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.b,null))),n.a.createElement(r.a.Group,{controlId:"seats",className:"position-relative col-sm-6 col-lg"},n.a.createElement(r.a.Control,{type:"text",placeholder:i[o].seats.placeholder}),n.a.createElement("span",{className:"icon-inside"},n.a.createElement(m.h,null))),n.a.createElement(r.a.Group,{className:"position-relative col-sm-6 col-lg"},n.a.createElement(s.a,{variant:"primary",type:"submit",className:"btn-block"},i[o].submit)))))}t.a=n.a.forwardRef(o)},"v3W/":function(e,t){}}]);
//# sourceMappingURL=component---src-pages-offers-jsx-14079d115db94661ca65.js.map